# Эксклюзивная очередь

## Важно!

Эксклюзивная очередь (`exclusive=True`) может быть использована только одним соединением. Это означает:

1. **Consumer должен быть запущен ПЕРВЫМ** - он создает эксклюзивную очередь
2. **Producer отправляет сообщения** в уже созданную очередь
3. Если consumer отключится, очередь будет удалена

## Порядок запуска

### Шаг 1: Запустите Consumer

```bash
cd rabbitmq_examples/task1_exclusive_queue
python consumer.py
```

Вы увидите:
```
 [*] Ожидание сообщений. Для выхода нажмите CTRL+C
```

### Шаг 2: В другом терминале запустите Producer

```bash
cd rabbitmq_examples/task1_exclusive_queue
python producer.py "Тестовое сообщение"
```

### Шаг 3: Consumer получит сообщение

В терминале consumer вы увидите:
```
 [x] Получено сообщение: Тестовое сообщение
 [x] Сообщение обработано
```

## Особенности эксклюзивной очереди

- Очередь создается только одним соединением (consumer)
- Если consumer отключится, очередь автоматически удалится
- Producer не может создать очередь, он только отправляет сообщения
- Если отправить сообщение до запуска consumer, сообщение будет потеряно

## Альтернативный вариант

Если нужно, чтобы producer мог создавать очередь независимо, используйте обычную очередь (без `exclusive=True`) из других примеров.


